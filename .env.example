# =============================================================================
# GreenOps Environment Configuration
# Copy to .env and fill in values before running.
# NEVER commit .env to version control.
# =============================================================================

# =============================================================================
# REQUIRED — server will refuse to start without these
# =============================================================================

# Generate: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=

# Generate: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
POSTGRES_PASSWORD=

# Use @db:5432 inside Docker. Use @localhost:5433 for local dev (host port).
DATABASE_URL=postgresql://greenops:POSTGRES_PASSWORD_HERE@db:5432/greenops

# =============================================================================
# OPTIONAL — set on first boot, remove after
# =============================================================================

# Override the default admin password hash from migration 001.
# Remove this line after the first successful deployment.
ADMIN_INITIAL_PASSWORD=admin123

# =============================================================================
# OPTIONAL — defaults shown
# =============================================================================

# JWT lifetime in hours
JWT_EXPIRATION_HOURS=24

# Login rate limiting: max attempts per window (per gunicorn worker process)
LOGIN_RATE_LIMIT=5
LOGIN_RATE_WINDOW=900

# Energy calculation model
IDLE_POWER_WATTS=65
ACTIVE_POWER_WATTS=120
ELECTRICITY_COST_PER_KWH=0.12

# Machine status timing
HEARTBEAT_TIMEOUT_SECONDS=10
IDLE_THRESHOLD_SECONDS=20
OFFLINE_CHECK_INTERVAL_SECONDS=60

# Logging
LOG_LEVEL=INFO
# LOG_FILE=/app/logs/greenops.log

# CORS: comma-separated origins. Use * for development only.
CORS_ORIGINS=*

# DB connection pool size per worker. Keep low: workers*threads*pool <= PG max_connections.
DB_POOL_SIZE=10

# Enable Flask debug mode (NEVER in production)
DEBUG=false

